// Определение пинов
const int PIR_PIN = 16;     // PIR датчик
const int BUZZER_PIN = 15;  // Пищалка
const int LED_PIN = 1;     // Светодиод

bool alarm_active = false;    // Состояние сигнализации

void setup() {
    // Инициализация пинов
    pinMode(PIR_PIN, INPUT);      // PIR как вход
    pinMode(BUZZER_PIN, OUTPUT);  // Buzzer как выход
    pinMode(LED_PIN, OUTPUT);     // LED как выход
    
    Serial.begin(9600);  // Инициализация серийного порта для отладки
}

void loop() {
    // Чтение состояния датчика движения
    if (digitalRead(PIR_PIN) == HIGH) {
        // Движение обнаружено
        alarm_active = true;
        Serial.println("Движение обнаружено!");
        
        // Включаем сигнализацию
        tone(BUZZER_PIN, 1000);   // Включаем пищалку на частоте 1000 Гц
        digitalWrite(LED_PIN, HIGH);     // Включаем светодиод
        delay(500);                      // Ждем 500 мс
        
        noTone(BUZZER_PIN);      // Выключаем пищалку
        digitalWrite(LED_PIN, LOW);      // Выключаем светодиод
        delay(500);                      // Ждем 500 мс
    } else {
        // Движение не обнаружено
        alarm_active = false;
        noTone(BUZZER_PIN);      // Выключаем пищалку
        digitalWrite(LED_PIN, LOW);      // Выключаем светодиод
    }
    
    delay(100);  // Небольшая задержка для стабильности
}
